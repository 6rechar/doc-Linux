# Linux

## 一、Linux -- 内容介绍









Linux使用在哪些地方







Linux的应用领域

个人桌面领域的应用



服务器领域



嵌入式领域

























## 二、基础篇 -- 入门

#### 介绍

Linux是一个开源、免费的操作系统，其稳定性、安全性、处理多并发已经得到业界的认可，目前很多企业级的项目都会部署到Linux/unix系统上。

root权限账号

root	123456

Alex	123456





### 2.1  --  Linux入门







### 2.2 -- VM和Linux安装

#### 2.2.1  安装 vm 和 Centos

##### 2.2.2.1  基本说明

使用Linux需要一个环境，我们需要创建一个虚拟机，然后在虚拟机上安装一个Centos系统

1. 先安装 virtual machine
2. 再安装 Linux（CentOS）
3. 原理示意图

![image-20220410184926114](D:\Learning\技术栈\Linux\Assets\Linux原理图.png)



virtual machine下载

官方下载地址：[下载 VMware Workstation Pro | CN](https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html)

#### 2.2.2  VM安装

1. 去BIOS里面修改设置开启虚拟化设备支持。
2. 安装虚拟机软件*[【查看doc文件夹】](D:\Learning\技术栈\Linux\doc)*

###### 如何启动BIOS的虚拟化设置|开启CPU虚拟化支持（首先到任务管理器查看）

- 开机时按F2、F12、DEL、ESC等键就可以进入到BIOS。
- 进入到BIOS后，找到Configuration选项或者Security选项，然后选择Virtualization，或者Intel Virtual Technology。
- 然后回车，将其键值设置成Enabled。
- 保存，重启计算机。

###### 如何查看虚拟化状态是已启用

- 进入操作系统   --   任务管理器

  ![启动BIOS的虚拟化设置 | 开启CPU虚拟化支持](D:\Learning\技术栈\Linux\Assets\虚拟化状态.png)

#### 2.2.3  Centos 安装

Centos下载地址：[阿里云开源镜像站资源目录 (aliyun.com)](http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/)

![image-20220410202054428](D:\Learning\技术栈\Linux\Assets\Centos镜像下载.png)

Centos安装步骤：*[【查看doc文件夹】](D:\Learning\技术栈\Linux\doc)*



![image-20220410193717852](D:\Learning\技术栈\Linux\Assets\虚拟机三种网络连接方式.png)

网络连接的三种模式：

![image-20220410193843399](D:\Learning\技术栈\Linux\Assets\虚拟机三种连接方式的理解.png)

图解：

教室网络【网络环境】

1. 桥接模式：每个网段都只有255个固定Ip值，假设同一网段下有200多台主机（或同网段下多个虚拟机）同时使用很容易造成IP冲突；
2. NAT模式：为了解决IP冲突存在，使用NAT模式可以将Linux系统中的网段修改，同时在该Linux所在的主机会生成一个同网段的IP  ---  （解决IP冲突）。同时可以通过192.168.0.50的IP做代理去访问同教师网络下的其它主机。
3. 主机模式：Host-Only模式将虚拟机与外网隔开，使得虚拟机成为一个独立的系统，只与主机相互通讯

#### 2.2.4  虚拟机克隆

如果已经安装了一台Linux操作系统，你还想安装更多，就没必要重新安装，只需要克隆就可以了。

1. 只需要拷贝一份安装好的虚拟机文件
2. 使用VMware的克隆操作。

注意：克隆时需要关闭Linux系统。

#### 2.2.5  虚拟机快照

如果你在使用虚拟机系统时，你想回到原先操作的某一个状态（或者你担心在操作下一步可能会造成系统异常，想会到异常状态前的状态）vaware提供了这样一个功能，叫快照功能。

实例：

1. 安装好系统后，先做一个快照A。
2. 进入系统后，创建一个文件夹，再保存一个快照B。
3. 回到系统刚刚安装好的状态，即快照A。
4. 点击快照B就可以再次回到快照B。

#### 2.2.6  虚拟机迁移、删除

虚拟机的本质就是文件，因此虚拟系统的迁移也和window系统迁移文件相同，你可以将安装好的虚拟系统这个文件夹整体拷贝或剪切到另一个位置使用。

删除也很简单，用vmware进行删除。再点击菜单->从磁盘删除即可（或者直接手动删除虚拟系统对应的文件）。

#### 2.2.7  安装  vmtools

##### 介绍

1. vmtools安装是为了更好的在windows下管理vm虚拟机。
2. 可以设置windows 和 centos 的共享文件夹
3. 示意图：

![image-20220411145311527](D:\Learning\技术栈\Linux\Assets\vmtool工作示意图.png)

##### 安装vmtools步骤

1. 进入centos
2. 若桌面存在centos类似的镜像，将其弹出。
3. 在上方的菜单栏中点击install vmware tools
4. centos会出现一个vm 的安装包，xx.tar.gz
5. 拷贝到 /opt 文件中（必须有root权限才可以）
6. 在Linux桌面右击选择控制台使用解压命令，得到一个安装文件【cd/opt   进入到opt文件夹】【tar -zxvf    xx.tar.gz       解压命令】
7. 进入该vm解压的目录，/opt ，目录下 【cd vmware】
8. 安装  【./vmware-install.pl】
9. 接下来按回车，全选默认的就可以了。
10. 怎样确认vmtools安装成功？【从Windows上拖文件，如果成功则安装成功】

![image-20220411151647081](D:\Learning\技术栈\Linux\Assets\镜像弹出.png)



##### 设置共享文件夹

###### 介绍

为了方便学习，在windows中新建一个文件夹 eg.   d:/语言/hello.txt



###### 步骤示意图

![image-20220411164745976](D:\Learning\技术栈\Linux\Assets\共享文件流程图.png)

文件位于centos的 /mnt/hgfs下

![image-20220411164941908](D:\Learning\技术栈\Linux\Assets\共享文件success.png)



### 2.3  Linux目录结构

#### 基本介绍

1. Linux是采用层级样式的树状目录结构，在此结构的最上层是根目录 “/” ，然后在此目录下再创建其它目录。
2. 在Linux的世界中，一切皆文件。
3. 示意图：

![img](D:\Learning\技术栈\Linux\Assets\目录树.jpg)

以下是对这些目录的解释【*】- 常用：

- **/bin** 【*】：
  bin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。

- **/boot：**
  这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。

- **/dev ：**
  dev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。

- **/etc【*】：**
  etc 是 Etcetera(等等) 的缩写,这个目录用来存放所有的系统管理所需要的配置文件和子目录。

- **/home**【*】：
  用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的，如上图中的 alice、bob 和 eve。

- **/lib**：
  lib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。

- **/lost+found**：
  这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

- **/media**：
  linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux 会把识别的设备挂载到这个目录下。

- **/mnt**：
  系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。

- **/opt**：
  opt 是 optional(可选) 的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

- **/proc【不能动】**：
  proc 是 Processes(进程) 的缩写，/proc 是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。
  这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：

  ```
  echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all
  ```

- **/root**【*】：
  该目录为系统管理员，也称作超级权限者的用户主目录。

- **/sbin**：
  s 就是 Super User 的意思，是 Superuser Binaries (超级用户的二进制文件) 的缩写，这里存放的是系统管理员使用的系统管理程序。

- **/selinux**：
   这个目录是 Redhat/CentOS 所特有的目录，Selinux 是一个安全机制，类似于 windows 的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。

- **/srv【不能动】**：
   该目录存放一些服务启动之后需要提取的数据。

- **/sys【不能动】**：

  这是 Linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs 。

  sysfs 文件系统集成了下面3种文件系统的信息：针对进程信息的 proc 文件系统、针对设备的 devfs 文件系统以及针对伪终端的 devpts 文件系统。

  该文件系统是内核设备树的一个直观反映。

  当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。

- **/tmp**：
  tmp 是 temporary(临时) 的缩写这个目录是用来存放一些临时文件的。

- **/usr**【*】：
   usr 是 unix shared resources(共享资源) 的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于 windows 下的 program files 目录。

- **/usr/bin：**
  系统用户使用的应用程序。

- **/usr/sbin：**
  超级用户使用的比较高级的管理程序和系统守护程序。

- **/usr/src：**
  内核源代码默认的放置目录。

- **/var**：
  var 是 variable(变量) 的缩写，这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。

- **/run**：
  是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。

在 Linux 系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。

**/etc**： 上边也提到了，这个是系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。

**/bin, /sbin, /usr/bin, /usr/sbin**: 这是系统预设的执行文件的放置目录，比如 **ls** 就是在 **/bin/ls** 目录下的。

值得提出的是 **/bin**、**/usr/bin** 是给系统用户使用的指令（除 root 外的通用用户），而/sbin, /usr/sbin 则是给 root 使用的指令。

**/var**： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，而这些日志就被记录到这个目录下，具体在 /var/log 目录下，另外 mail 的预设放置也是在这里。















## 三、实际操作篇

### 远程登陆 Linux 服务器

#### 为什么要使用远程登陆 Linux







#### 远程登陆  Linux - Xshell

##### 介绍





##### 下载 - 安装 - 配置 - 使用 Xshell

下载地址：*【[Xshell](https://www.xshell.com/zh)】*

安装：傻瓜式安装

配置：

1、登陆虚拟机( VMware )查找Linux系统IP（右击选择控制台，命令：ifconfig      回车）

![](D:\Learning\技术栈\Linux\Assets\远程LinuxIP.png)

2、连接Linux系统

本机看是否能ping同虚拟机   --->    创建连接

![image-20220410222516948](D:\Learning\技术栈\Linux\Assets\ping.png)



连接远程Linux系统

![image-20220410222850634](D:\Learning\技术栈\Linux\Assets\连接远程Linux.png)

连接成功

![image-20220410222938587](D:\Learning\技术栈\Linux\Assets\远程连接success.png)

![image-20220410223507906](D:\Learning\技术栈\Linux\Assets\shellsuccess.png)



#### 远程上传下载文件 - Xftp

##### 介绍





##### 下载 - 安装 - 配置 - 使用 Xftp

下载地址：*【[Xftp](https://www.xshell.com/zh)】*

安装：傻瓜式安装

配置：

![image-20220410224317291](D:\Learning\技术栈\Linux\Assets\配置Xftp连接远程Linux.png)



怎样修改乱码问题：

![image-20220410224629744](D:\Learning\技术栈\Linux\Assets\处理Xftp乱码.png)

![image-20220410224750963](D:\Learning\技术栈\Linux\Assets\乱码success.png)



### Vi 和 Vim编辑器

##### vi 和 vim的基本介绍







##### vi 和 vim的常用的三种方式

正常模式

以 vim 打开一个档案就直接进入一般模式 (默认模式) 。

在这个模式中，你可以使用【上下左右】 按键来移动光标，你可以使用【删除字符】或【删除整行】来处理档案内容，也可以使用【复制、粘贴】来处理文件数据。



插入模式

按下任何一个字母之后才会进入编辑模式，一般来说按 i 即可



命令行模式

输入 esc 键 再输入： 在这个模式中，可以提供你相关指令，完成读取、存储、替换、离开 vim 、显示符号等的动作则是在此模式中达成的！！！



##### 各种模式的相互切换

![image-20220410230002263](D:\Learning\技术栈\Linux\Assets\模式转换示意图.png)

##### vi 和 vim 快捷键（需要在一般模式下输入命令）

1. 拷贝当前行  yy，然后输入p（拷贝当前行向下的5行  5yy，并粘贴【p】）
2. 删除当前行  dd，删除当前行向下的5行  5dd
3. 在文件中查找某个单词【命令行下 / 关键字，回车 查找，输入n就是查找下一个】
4. 设置文件的行号，取消文件的行号【命令行下    :set nu 和    :set nonu】
5. 编辑长文本文件，在一般模式下，使用快捷键到该文档的最末行【G】和最首行【gg】
6. 在一个文件中输入“Hello”，在一般模式下，然后又撤销这个动作 u
7. 编辑长文本文件，在一般模式下，并将光标移动到，输入 20，再输入 shift + g



### 开机、重启和用户登陆注销

#### 关机&重启命令

基本指令：

1. shutdown	-h	now			立刻进行关机
2. shutdown    -h    1                  一分钟后关机
3. shutdown    -r    now             现在重启计算机
4. halt                关机
5. reboot          现在重启计算机
6. sync               把内存的数据同步到磁盘

注意：

- 不管是重启还是关机，首先要运行sync命令
- 目前shutdown/halt/reboot等命令均在关机前进行sync。



#### 用户登陆和注销

基本介绍

1. 登陆时尽量少用root账号，因为他是系统管理员，最大的权限，避免操作失误，可以利用普通用户登陆，登陆后再使用 “ su- 用户名”命令来切换系统管理员身份。
2. 在提示符下输入  logout  即可注销用户。



使用细节

1. logout 注销指令在图形运行级别无效，在运行级别3下有效。
2. 运行级别这个概念下面介绍。





## 高级篇